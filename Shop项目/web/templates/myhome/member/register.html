<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>注册</title>
		<link rel="stylesheet" type="text/css" href="/static/myhome/css/login.css"/>
        <script src="/static/myhome/js/jquery-1.8.3.min.js"></script>
	</head>
	<body>
		<div id="append"></div>
		<div class="full_sc">
			<div class="head_cent head_cwo ClearFix">
				<div class="h_logo">
					<a href="{% url 'shop_homepage' %}">
						<img src="/static/myhome/image/logo.jpg"/>
					</a>
				</div>
				<div class="h_right">
					<img src="/static/myhome/image/top_center.jpg"/>
				</div>
			</div>
		</div>
		<div class="w980 ClearFix">
			<div class="logo_box ClearFix">
				<div class="login_b_l ClearFix">
					<a href="" title="出发">
						<img src="/static/myhome/image/register.jpg" alt="出发"/>
					</a>
				</div>
				<div class="login_b_r ClearFix">
					<div class="loginul ClearFix">
					    <div class="login_h2 ClearFix">
						    <h2>用户注册</h2>
						    <div class="lognrtop">
								已有账号<a href="{% url 'shop_login' %}">在此登录</a>
							</div>
						</div>
                        <div class="form">
                        <form id="register_form" method="POST" action="{% url 'shop_doregister' %}">
                            {% csrf_token %}
                            <!-- 账号 -->
                            <div class="item">
                                <input placeholder="请输入昵称" class="itxt" name="nikename" id="name" type="text">
                            </div>
                            <!-- 手机号 -->
                            <div class="item">
                                <!-- <div class="err_box"></div> -->
                                <input placeholder="请输入手机号码" class="itxt"  name="phone" id="phone" type="text">
                                <!-- <div class="err_box"></div> -->
                            </div>
                            <!-- 验证码 -->
                            <div class="item items">
                                <input placeholder="验证码"  class="itxt itxt_yzm onfocustxt" name="vcode" id="mobile_code" type="text">
                                <!-- <a href="" class="ncm-btn ml5" tabindex="2" id="msg-input"> -->
                                    <button  type="button" class="SendMsg" style="background-color:#f6f6f6;width:135px;height:39px;border:1px solid #c8c8c8">获取短信验证码</button>
                            	<!-- </a> -->
                            </div>
                            <!-- 验证码 end-->
                            <!-- 密码框 -->
                            <div class="item item2">
                                <input placeholder="请输入密码(6位数)"   class="itxt" name="password" id="password" type="password">
                            </div>
                            <div class="item item2" id="pwddiv">
                                <input placeholder="请再次输入密码" class="itxt"  name="password_confirm" id="password_confirm" type="password">
                            </div>
                            <!-- 密码框end -->
                            <div class="item item5">
                                <div class="login-btn">
                                    <a id="loginsubmit" tabindex="7" class="btn-img btn-entry" href="javascript:document:register_form.submit();">立即注册</a>
                                </div>
                                <div class="agree">
                                    <input class="jdcheckbox" tabindex="8" name="agree" id="agree" checked="checked" type="checkbox">
                                    <label for="autoLogin">注册即表示同意<span><a href="" target="_blank">《用户服务协议》</a></span>条款</label>
                                </div>
                            </div>
                        </form>
                        </div>
					</div>
				</div>
			</div>
		</div>
        <script>
            // 短信验证码
            $('.SendMsg').click(function(){
                // 获取手机号
                var phone = $('#phone').val()
                // 验证手机号是否正确
                reg = /^\d{11}$/
                if(reg.test(phone)){
                    // 设置按钮不可点击,倒计时

                    // 发送短信验证码
                    $.get('{% url 'shop_sendMsg' %}',{'phone':phone},function(data){
                        console.log(data)
                    },'json')
                }
            })

            // 判断两次密码是否一致
            $('#password').change(function(){
                var a1 = this.value
                if(a1.length < 6){
                    alert('请填写6位数密码')
                }
                // $('#password_confirm').mouseout(function(){
                //     if(a1 != $(this).val()){
                //         alert("密码不一致");
                //     }
                // })
            })
            // 判断手机号
            $('#phone').change(function(){
                var check_phone = this.value
                if(check_phone.length != 11){
                    alert('手机号不正确')
                }
            })
        </script>
	</body>
</html>
